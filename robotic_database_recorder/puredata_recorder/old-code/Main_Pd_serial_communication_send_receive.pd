#N canvas 440 23 1680 910 10;
#X msg 41 67 close;
#X msg 30 40 devices;
#X floatatom 90 48 5 0 0 0 - - -;
#X msg 90 67 open \$1;
#X obj 30 284 s;
#X obj 30 262 serial_print any;
#X msg 142 28 4;
#X obj 410 4 cnv 15 1600 370 empty empty empty 20 12 0 14 -262130 -66577
0;
#X obj 500 232 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 443 80 unpack s f;
#X floatatom 500 143 8 0 0 0 - - -;
#X obj 561 52 r resolution;
#X floatatom 561 74 5 0 0 0 - - -;
#X obj 779 233 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 722 80 unpack s f;
#X floatatom 779 143 8 0 0 0 - - -;
#X obj 722 52 r a1;
#X obj 820 174 s _a1;
#X obj 840 52 r resolution;
#X floatatom 840 74 5 0 0 0 - - -;
#X obj 1036 231 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 223 1;
#X obj 979 78 unpack s f;
#X floatatom 1036 141 8 0 0 0 - - -;
#X obj 1097 50 r resolution;
#X floatatom 1097 72 5 0 0 0 - - -;
#X obj 1315 231 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 8405 1;
#X obj 1258 78 unpack s f;
#X floatatom 1315 141 8 0 0 0 - - -;
#X obj 1376 50 r resolution;
#X floatatom 1376 72 5 0 0 0 - - -;
#X obj 1569 230 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 1512 77 unpack s f;
#X floatatom 1569 140 8 0 0 0 - - -;
#X obj 1630 49 r resolution;
#X floatatom 1630 71 5 0 0 0 - - -;
#X obj 1848 230 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 1791 77 unpack s f;
#X floatatom 1848 140 8 0 0 0 - - -;
#X obj 1909 49 r resolution;
#X floatatom 1909 71 5 0 0 0 - - -;
#X obj 443 52 r a0;
#X obj 541 174 s _a0;
#X obj 979 50 r a2;
#X obj 1077 172 s _a2;
#X obj 1258 50 r a3;
#X obj 1356 172 s _a3;
#X obj 1512 49 r a4;
#X obj 1610 171 s _a4;
#X obj 1791 49 r a5;
#X obj 1889 171 s _a5;
#X obj 410 386 cnv 15 800 370 empty empty empty 20 12 0 14 -261682
-66577 0;
#X obj 426 464 unpack s f;
#X floatatom 483 534 8 0 0 0 - - -;
#X obj 958 463 unpack s f;
#X floatatom 1015 533 8 0 0 0 - - -;
#X obj 696 464 unpack s f;
#X floatatom 753 534 8 0 0 0 - - -;
#X obj 426 436 r x;
#X obj 696 436 r y;
#X obj 958 435 r z;
#X obj 523 565 s _x;
#X obj 793 565 s _y;
#X obj 1055 565 s _z;
#X obj 483 618 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 4899 1;
#X obj 753 618 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 6804 1;
#X obj 1015 620 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 7190 1;
#X obj 1302 386 cnv 15 500 370 empty empty empty 20 12 0 14 -204800
-66577 0;
#X obj 1347 465 unpack s f;
#X obj 1404 489 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1509 463 unpack s f;
#X obj 1566 487 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1672 462 unpack s f;
#X obj 1729 486 tgl 30 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1347 437 r d0;
#X obj 1509 435 r d1;
#X obj 1672 434 r d2;
#X obj 1359 502 s _d0;
#X obj 1524 500 s _d1;
#X obj 1688 499 s _d2;
#X text 494 393 Data from IMU;
#X text 1362 395 Data from digital sensors;
#X text 454 11 Data from analog sensors;
#X obj 23 384 cnv 15 250 370 empty empty empty 20 12 0 14 -228856 -66577
0;
#X floatatom 40 534 5 0 0 0 - - -;
#X obj 40 557 s resolution;
#X msg 62 508 4095;
#X msg 40 479 1023;
#X obj 40 452 loadbang;
#X text 101 477 10-bit Arduino resolution;
#X text 101 507 12-bit Teensy resolution;
#X text 39 406 Configuration;
#X obj 500 115 cyclone/scale 0 4095 0 1 1;
#X obj 779 115 cyclone/scale 0 4095 0 1 1;
#X obj 1036 113 cyclone/scale 0 4095 0 1 1;
#X obj 1315 113 cyclone/scale 0 4095 0 1 1;
#X obj 1569 112 cyclone/scale 0 4095 0 1 1;
#X obj 1848 112 cyclone/scale 0 4095 0 1 1;
#X text 29 311 NOTE: You need to wait a bit for the IMU to be calibrated.
Then the stream of sensor values arrives;
#X obj 483 505 cyclone/scale 0 360 0 1 1;
#X obj 753 506 cyclone/scale -90 90 0 1 1;
#X obj 1015 505 cyclone/scale -180 180 0 1 1;
#X obj 128 191 r to_arduino;
#X msg 178 27 0;
#X obj 412 776 cnv 15 1600 250 empty empty empty 20 12 0 14 -204786
-66577 0;
#X obj 437 970 _format_serial_messages;
#X msg 641 849 motor1_pattern1 \$1;
#X msg 641 816 0;
#X msg 688 817 1;
#X floatatom 746 894 5 0 255 0 - - -;
#X msg 642 893 0;
#X msg 642 926 LED1_pattern1 \$1;
#X obj 437 998 s to_arduino;
#X msg 689 894 255;
#X text 801 921 The Arduino sketch handles messages for the LED with
numbers between 0 and 255: those correspond to the LED intensity;
#X text 799 841 The Arduino sketch handles messages for the motors
that are either 0 or 1: these correspond to the motor off and on;
#X text 436 795 Send data to Arduino;
#X obj 30 239 comport 1 115200;
#X connect 0 0 116 0;
#X connect 1 0 116 0;
#X connect 2 0 3 0;
#X connect 3 0 116 0;
#X connect 5 0 4 0;
#X connect 5 1 4 1;
#X connect 6 0 2 0;
#X connect 9 1 91 0;
#X connect 10 0 41 0;
#X connect 10 0 8 0;
#X connect 11 0 12 0;
#X connect 12 0 91 2;
#X connect 14 1 92 0;
#X connect 15 0 17 0;
#X connect 15 0 13 0;
#X connect 16 0 14 0;
#X connect 18 0 19 0;
#X connect 19 0 92 2;
#X connect 21 1 93 0;
#X connect 22 0 43 0;
#X connect 22 0 20 0;
#X connect 23 0 24 0;
#X connect 24 0 93 2;
#X connect 26 1 94 0;
#X connect 27 0 45 0;
#X connect 27 0 25 0;
#X connect 28 0 29 0;
#X connect 29 0 94 2;
#X connect 31 1 95 0;
#X connect 32 0 47 0;
#X connect 32 0 30 0;
#X connect 33 0 34 0;
#X connect 34 0 95 2;
#X connect 36 1 96 0;
#X connect 37 0 49 0;
#X connect 37 0 35 0;
#X connect 38 0 39 0;
#X connect 39 0 96 2;
#X connect 40 0 9 0;
#X connect 42 0 21 0;
#X connect 44 0 26 0;
#X connect 46 0 31 0;
#X connect 48 0 36 0;
#X connect 51 1 98 0;
#X connect 52 0 60 0;
#X connect 52 0 63 0;
#X connect 53 1 100 0;
#X connect 54 0 62 0;
#X connect 54 0 65 0;
#X connect 55 1 99 0;
#X connect 56 0 61 0;
#X connect 56 0 64 0;
#X connect 57 0 51 0;
#X connect 58 0 55 0;
#X connect 59 0 53 0;
#X connect 67 1 68 0;
#X connect 67 1 76 0;
#X connect 69 1 70 0;
#X connect 69 1 77 0;
#X connect 71 1 72 0;
#X connect 71 1 78 0;
#X connect 73 0 67 0;
#X connect 74 0 69 0;
#X connect 75 0 71 0;
#X connect 83 0 84 0;
#X connect 85 0 83 0;
#X connect 86 0 83 0;
#X connect 87 0 86 0;
#X connect 91 0 10 0;
#X connect 92 0 15 0;
#X connect 93 0 22 0;
#X connect 94 0 27 0;
#X connect 95 0 32 0;
#X connect 96 0 37 0;
#X connect 98 0 52 0;
#X connect 99 0 56 0;
#X connect 100 0 54 0;
#X connect 101 0 116 0;
#X connect 102 0 116 0;
#X connect 104 0 111 0;
#X connect 105 0 104 0;
#X connect 106 0 105 0;
#X connect 107 0 105 0;
#X connect 108 0 110 0;
#X connect 109 0 110 0;
#X connect 110 0 104 0;
#X connect 112 0 110 0;
#X connect 116 0 5 0;
